{% extends 'voting/header.html' %}
{% block content %}
{% include "voting/includes/status.html" %}
<script></script>

<script type = "text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>

{% load static %}
<script src="{% static 'js/charts.js' %}"></script>

<script>
  const names = [{% for item in highestAvgPerCreation %}"{{item.name}}",{%endfor%}];

  const values = [{% for item in highestAvgPerCreation %}{{item.avg }},{% endfor %}];
createGraph(names, values, "gemiddeld aantal sterren","pie-chart")
</script>


<div class="mx-5">
  <div>
    <h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">Algemeen</h2>
  </div>
  <div>
    <h4>highest over all</h4>
    <table>
      <tr>
        <th>Creation</th>
        <th>Average vote</th>
      </tr>
      {% for item in highestAvgPerCreation %}
      <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
      </tr>
      {% endfor %}
    </table>
  </div>
  <div class="w-5/6">
      <canvas class="" id="pie-chart"></canvas>
  </div>
</div>
  
  <h4>lowest over all</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in lowestAvgPerCreation %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>
<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">CREATIVITY</h2>
<h4> highest</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in highestCrea %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>


<h4> lowest</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in lowestCrea %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>
<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">IMPRESSIVENESS</h2>
<h4> highest</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in highestImpr %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>

<h4>lowest</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in lowestImpr %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>
<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">DETAILS</h2>
<h4>highest</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in highestDeta %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>
<h4>lowest</h4>
<table>
    <tr>
      <th>Creation</th>
      <th>Average vote</th>
    </tr>
    {% for item in highestDeta reversed %}
    <tr>
        <td>{{ item }}</td>
        <td>{{ item.avg }}</td>
    </tr>
    {% endfor %}
</table>

<br>
<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">Hoogste aantal stemmen, categorieën apart geteld</h2>
{% comment %} (so each category can have three possible votes per user) {% endcomment %}
<table>
  <tr>
    <th>Creation</th>
    <th>amount of votes</th>
  </tr>
  {% for item in amountOfVotes %}
  <tr>
      <td>{{ item }}</td>
      <td>{{ item.amount }}</td>
  </tr>
  {% endfor %}
</table>
<br>

<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">Laagste aantal stemmen, categorieën apart geteld</h2>
{% comment %} (so each category can have three possible votes per user) {% endcomment %}
<table>
  <tr>
    <th>Creation</th>
    <th>amount of votes</th>
  </tr>
  {% for item in amountOfVotes reversed %}
  <tr>
      <td>{{ item }}</td>
      <td>{{ item.amount }}</td>
  </tr>
  {% endfor %}
</table>
<br>

<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">Creaties met meest ontvangen stemmen</h2>
{% comment %} most votes recieved, regardless of the vote value {% endcomment %}
<table>
  <tr>
    <th>Creation</th>
    <th>amount of votes</th>
  </tr>
  {% for item in mostUsers %}
  <tr>
      <td>{{ item }}</td>
      <td>{{ item.amount }}</td>
  </tr>
  {% endfor %}
</table>
<br>



<h2>Visitors</h2>
<h2 class="text-bamDarkText text-4xl font-bold px-5 self-center">Meest stemmense bezoekers</h2>
<table>
  <tr>
    <th>User</th>
    <th>amount of creations voted on</th>
  </tr>
  {% for item in mostVotes %}
  <tr>
      <td>{{ item }}</td>
      <td>{{ item.amount }}</td>
  </tr>
  {% endfor %}
</table>
<br>
</div>

{% endblock %}